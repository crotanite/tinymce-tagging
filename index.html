<!doctype>
<html lang="en">
	<head>
		<title>TinyMCE Tagging</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="/tinymce-tagging/css/tiny-tags.css">
	</head>

	<body>
		<div style="position: relative">
			<textarea id="tagging"></textarea>
		</div>

		<script src="https://cloud.tinymce.com/5/tinymce.min.js?apiKey=bty4go47f91h87qdjzgyt06pbzf5213ophspdimnyddovwf8"></script>
		<script>
			tinymce.init({
				selector: "textarea#tagging",
				extended_valid_elements: 'span[class|id|data-mce-mentions-id]',
				external_plugins: {
					'tag': 'http://projects.local/tinymce-tagging/plugin.js',
				},
				tagging: {
					tags: [
						{
							delimeter: '@',
							insert: function(item, tag)
							{
								return '<span class="test">Test</span>&nbsp;';
							},
							selector: 'name',
							source: [
								{ id: 1, name: 'Claude Harper' },
								{ id: 1, name: 'Alannah Carter' },
								{ id: 1, name: 'Felix Schultz' },
								{ id: 1, name: 'Holli Keenan' },
								{ id: 1, name: 'Aditi Berry' }
							],
						},
					],
				},
			});
		</script>
	</body>
</html>